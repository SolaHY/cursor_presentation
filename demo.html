<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursoræ©Ÿèƒ½ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Yu Gothic UI', 'Meiryo', sans-serif;
            background: #1e1e1e;
            color: #e4e4e4;
            overflow-x: hidden;
        }

        .demo-container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 300px;
            background: #252526;
            padding: 20px;
            border-right: 1px solid #3e3e42;
            overflow-y: auto;
        }

        .demo-section {
            margin-bottom: 30px;
            padding: 15px;
            background: #2d2d30;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .demo-section:hover {
            background: #383838;
            border-color: #007acc;
        }

        .demo-section.active {
            border-color: #007acc;
            background: #264f78;
        }

        .demo-title {
            font-size: 16px;
            font-weight: bold;
            color: #4fc3f7;
            margin-bottom: 8px;
        }

        .demo-description {
            font-size: 12px;
            color: #cccccc;
            line-height: 1.4;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .editor-container {
            flex: 1;
            position: relative;
            background: #1e1e1e;
        }

        .editor {
            width: 100%;
            height: 100%;
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            padding: 20px;
            border: none;
            outline: none;
            resize: none;
            line-height: 1.6;
        }

        .chat-container {
            height: 300px;
            background: #252526;
            border-top: 1px solid #3e3e42;
            display: none;
            flex-direction: column;
        }

        .chat-container.active {
            display: flex;
        }

        .chat-header {
            padding: 10px 20px;
            background: #2d2d30;
            color: #4fc3f7;
            font-weight: bold;
            border-bottom: 1px solid #3e3e42;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
        }

        .user-message {
            background: #264f78;
            color: #ffffff;
        }

        .ai-message {
            background: #1a472a;
            color: #ffffff;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .overlay.active {
            display: flex;
        }

        .demo-animation {
            background: #2d2d30;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            text-align: center;
        }

        .typing-animation {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 16px;
            color: #4fc3f7;
            border-right: 2px solid #4fc3f7;
            white-space: nowrap;
            overflow: hidden;
            animation: typing 0.1s steps(1, end), blink-caret 1s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #4fc3f7; }
        }

        .keyboard-hint {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 122, 204, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 12px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .progress-bar {
            height: 4px;
            background: #3e3e42;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #007acc, #4fc3f7);
            width: 0%;
            transition: width 0.5s ease;
        }

        .demo-controls {
            padding: 15px 20px;
            background: #2d2d30;
            border-top: 1px solid #3e3e42;
            display: flex;
            gap: 10px;
        }

        .control-btn {
            background: #007acc;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: #106ebe;
            transform: translateY(-1px);
        }

        .control-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .status-bar {
            height: 25px;
            background: #007acc;
            color: white;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-size: 12px;
        }

        .syntax-highlight {
            color: #569cd6;
        }

        .string-highlight {
            color: #ce9178;
        }

        .comment-highlight {
            color: #6a9955;
            font-style: italic;
        }

        .function-highlight {
            color: #dcdcaa;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="sidebar">
            <h2 style="color: #4fc3f7; margin-bottom: 20px; text-align: center;">ğŸš€ Cursoræ©Ÿèƒ½ãƒ‡ãƒ¢</h2>
            
            <div class="demo-section" data-demo="tab-completion">
                <div class="demo-title">âš¡ Tabè£œå®Œ</div>
                <div class="demo-description">ã‚³ãƒ¡ãƒ³ãƒˆã‚„é–¢æ•°åã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆ</div>
            </div>

            <div class="demo-section" data-demo="cmd-k">
                <div class="demo-title">ğŸ”§ Cmd+Kç·¨é›†</div>
                <div class="demo-description">é¸æŠã—ãŸã‚³ãƒ¼ãƒ‰ã‚’AIã§ç·¨é›†ãƒ»æ”¹å–„</div>
            </div>

            <div class="demo-section" data-demo="cmd-l">
                <div class="demo-title">ğŸ’¬ Cmd+Lãƒãƒ£ãƒƒãƒˆ</div>
                <div class="demo-description">AIã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚³ãƒ¼ãƒ‰ç›¸è«‡</div>
            </div>

            <div class="demo-section" data-demo="composer">
                <div class="demo-title">ğŸ¼ Composer</div>
                <div class="demo-description">è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤§è¦æ¨¡ç·¨é›†</div>
            </div>

            <div class="demo-section" data-demo="at-reference">
                <div class="demo-title">ğŸ“ @æ©Ÿèƒ½</div>
                <div class="demo-description">ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‚ç…§</div>
            </div>

            <div class="demo-section" data-demo="error-fix">
                <div class="demo-title">ğŸ› ã‚¨ãƒ©ãƒ¼ä¿®æ­£</div>
                <div class="demo-description">ã‚¨ãƒ©ãƒ¼ã®æ¤œå‡ºã¨è‡ªå‹•ä¿®æ­£ææ¡ˆ</div>
            </div>
        </div>

        <div class="main-content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="editor-container">
                <textarea class="editor" id="codeEditor" placeholder="ã“ã“ã«ã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™..."></textarea>
                <div class="keyboard-hint" id="keyboardHint">Tabã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„</div>
                <div class="overlay" id="demoOverlay">
                    <div class="demo-animation">
                        <div class="typing-animation" id="typingText"></div>
                        <p style="margin-top: 20px; color: #cccccc;">ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸­...</p>
                    </div>
                </div>
            </div>

            <div class="chat-container" id="chatContainer">
                <div class="chat-header">ğŸ’¬ AI ãƒãƒ£ãƒƒãƒˆ - Cmd+L</div>
                <div class="chat-messages" id="chatMessages"></div>
            </div>

            <div class="demo-controls">
                <button class="control-btn" id="startDemo">â–¶ï¸ ãƒ‡ãƒ¢é–‹å§‹</button>
                <button class="control-btn" id="pauseDemo" disabled>â¸ï¸ ä¸€æ™‚åœæ­¢</button>
                <button class="control-btn" id="resetDemo">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
                <button class="control-btn" id="nextStep" disabled>â¡ï¸ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</button>
            </div>

            <div class="status-bar">
                <span id="statusText">ãƒ‡ãƒ¢ã‚’é¸æŠã—ã¦ãã ã•ã„</span>
            </div>
        </div>
    </div>

    <script>
        class CursorDemo {
            constructor() {
                this.currentDemo = null;
                this.isPlaying = false;
                this.currentStep = 0;
                this.demos = {
                    'tab-completion': {
                        title: 'Tabè£œå®Œãƒ‡ãƒ¢',
                        steps: [
                            {
                                code: '# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¹´é½¢ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã‚’ä½œã‚‹',
                                hint: 'Tabã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãã ã•ã„',
                                delay: 1000
                            },
                            {
                                code: `# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¹´é½¢ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã‚’ä½œã‚‹
def get_user_age():
    age = int(input("å¹´é½¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: "))
    return age`,
                                hint: 'ã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼',
                                delay: 2000
                            },
                            {
                                code: `# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¹´é½¢ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã‚’ä½œã‚‹
def get_user_age():
    age = int(input("å¹´é½¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: "))
    return age

# å¹´é½¢ãƒã‚§ãƒƒã‚¯é–¢æ•°ã‚’ä½œã‚‹`,
                                hint: 'ã•ã‚‰ã«Tabã§æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚‚ç”Ÿæˆ',
                                delay: 1500
                            },
                            {
                                code: `# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¹´é½¢ã‚’å…¥åŠ›ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã‚’ä½œã‚‹
def get_user_age():
    age = int(input("å¹´é½¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: "))
    return age

# å¹´é½¢ãƒã‚§ãƒƒã‚¯é–¢æ•°ã‚’ä½œã‚‹
def check_age(age):
    if age >= 18:
        return "æˆäººã§ã™"
    else:
        return "æœªæˆå¹´ã§ã™"`,
                                hint: 'å®Œæˆï¼ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸ',
                                delay: 2500
                            }
                        ]
                    },
                    'cmd-k': {
                        title: 'Cmd+Kç·¨é›†ãƒ‡ãƒ¢',
                        steps: [
                            {
                                code: `def calculate(a, b):
    result = a + b
    return result`,
                                hint: 'ã‚³ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦Cmd+Kã‚’æŠ¼ã—ã¦ãã ã•ã„',
                                delay: 1500
                            },
                            {
                                code: `def calculate(a, b):
    result = a + b
    return result`,
                                hint: '"ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ ã—ã¦"ã¨å…¥åŠ›',
                                showOverlay: true,
                                overlayText: 'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ ã—ã¦',
                                delay: 2000
                            },
                            {
                                code: `def calculate(a, b):
    try:
        if not isinstance(a, (int, float)) or not isinstance(b, (int, float)):
            raise TypeError("å¼•æ•°ã¯æ•°å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        result = a + b
        return result
    except TypeError as e:
        print(f"ã‚¨ãƒ©ãƒ¼: {e}")
        return None`,
                                hint: 'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒè‡ªå‹•è¿½åŠ ã•ã‚Œã¾ã—ãŸï¼',
                                delay: 3000
                            }
                        ]
                    },
                    'cmd-l': {
                        title: 'Cmd+Lãƒãƒ£ãƒƒãƒˆãƒ‡ãƒ¢',
                        steps: [
                            {
                                code: `def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)`,
                                hint: 'Cmd+Lã§ãƒãƒ£ãƒƒãƒˆã‚’é–‹ã„ã¦ãã ã•ã„',
                                delay: 1500
                            },
                            {
                                code: `def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)`,
                                hint: 'AIã«ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦è³ªå•ã—ã¦ã¿ã¾ã—ã‚‡ã†',
                                showChat: true,
                                chatMessages: [
                                    { type: 'user', text: 'ã“ã®é–¢æ•°ã®å‹•ä½œã‚’è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„' }
                                ],
                                delay: 2000
                            },
                            {
                                code: `def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)`,
                                hint: 'AIãŒè©³ã—ãèª¬æ˜ã—ã¦ãã‚Œã¾ã™',
                                showChat: true,
                                chatMessages: [
                                    { type: 'user', text: 'ã“ã®é–¢æ•°ã®å‹•ä½œã‚’è©³ã—ãèª¬æ˜ã—ã¦ãã ã•ã„' },
                                    { type: 'ai', text: 'ã“ã®é–¢æ•°ã¯ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ã‚’è¨ˆç®—ã—ã¾ã™ã€‚å†å¸°çš„ã«å®šç¾©ã•ã‚Œã¦ãŠã‚Šã€nç•ªç›®ã®ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°ã‚’è¿”ã—ã¾ã™ã€‚ãƒ™ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ã—ã¦ã€nãŒ0ã¾ãŸã¯1ã®å ´åˆã¯nãã®ã‚‚ã®ã‚’è¿”ã—ã€ãã‚Œä»¥å¤–ã®å ´åˆã¯å‰ã®2ã¤ã®æ•°ã®å’Œã‚’è¿”ã—ã¾ã™ã€‚' }
                                ],
                                delay: 3000
                            }
                        ]
                    },
                    'composer': {
                        title: 'Composerãƒ‡ãƒ¢',
                        steps: [
                            {
                                code: `# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
# - main.py
# - utils.py
# - config.py`,
                                hint: 'Composerã§è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†',
                                delay: 1500
                            },
                            {
                                code: `# main.py
from utils import calculate
from config import CONFIG

def main():
    result = calculate(CONFIG['x'], CONFIG['y'])
    print(f"çµæœ: {result}")

if __name__ == "__main__":
    main()`,
                                hint: 'è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ãŸãŒã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ',
                                delay: 2500
                            },
                            {
                                code: `# utils.py
def calculate(x, y):
    """è¨ˆç®—ã‚’å®Ÿè¡Œã™ã‚‹é–¢æ•°"""
    return x * y + 10

# config.py  
CONFIG = {
    'x': 5,
    'y': 3,
    'debug': True
}`,
                                hint: 'é–¢é€£ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã¾ã—ãŸ',
                                delay: 3000
                            }
                        ]
                    },
                    'at-reference': {
                        title: '@æ©Ÿèƒ½ãƒ‡ãƒ¢',
                        steps: [
                            {
                                code: `# @app.py ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚°ã‚’è¦‹ã¤ã‘ã¦`,
                                hint: '@ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦è³ªå•',
                                delay: 1500
                            },
                            {
                                code: `# @app.py ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚°ã‚’è¦‹ã¤ã‘ã¦
def process_data(data):
    result = []
    for item in data:
        if item > 0:  # ãƒã‚°ï¼šNoneãƒã‚§ãƒƒã‚¯ãªã—
            result.append(item * 2)
    return result`,
                                hint: 'AIãŒæŒ‡å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†æä¸­...',
                                showOverlay: true,
                                overlayText: 'ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†æã—ã¦ã„ã¾ã™...',
                                delay: 2000
                            },
                            {
                                code: `# ä¿®æ­£ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰
def process_data(data):
    if not data:  # ãƒ‡ãƒ¼ã‚¿ã®å­˜åœ¨ãƒã‚§ãƒƒã‚¯è¿½åŠ 
        return []
    
    result = []
    for item in data:
        if item is not None and item > 0:  # Noneãƒã‚§ãƒƒã‚¯è¿½åŠ 
            result.append(item * 2)
    return result`,
                                hint: 'ãƒã‚°ãŒç™ºè¦‹ã•ã‚Œã€ä¿®æ­£æ¡ˆãŒææ¡ˆã•ã‚Œã¾ã—ãŸï¼',
                                delay: 3000
                            }
                        ]
                    },
                    'error-fix': {
                        title: 'ã‚¨ãƒ©ãƒ¼ä¿®æ­£ãƒ‡ãƒ¢',
                        steps: [
                            {
                                code: `def divide_numbers(a, b):
    return a / b  # ZeroDivisionError ã®å¯èƒ½æ€§

result = divide_numbers(10, 0)
print(result)`,
                                hint: 'ã‚¨ãƒ©ãƒ¼ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸ',
                                delay: 1500
                            },
                            {
                                code: `def divide_numbers(a, b):
    return a / b  # ZeroDivisionError ã®å¯èƒ½æ€§

result = divide_numbers(10, 0)  # âŒ ã‚¨ãƒ©ãƒ¼
print(result)`,
                                hint: 'AIãŒã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã—ä¿®æ­£ã‚’ææ¡ˆ',
                                showOverlay: true,
                                overlayText: 'ZeroDivisionErrorã‚’ä¿®æ­£ã—ã¦ã„ã¾ã™...',
                                delay: 2000
                            },
                            {
                                code: `def divide_numbers(a, b):
    if b == 0:
        return "ã‚¨ãƒ©ãƒ¼: ã‚¼ãƒ­ã§å‰²ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“"
    return a / b

result = divide_numbers(10, 0)
print(result)  # "ã‚¨ãƒ©ãƒ¼: ã‚¼ãƒ­ã§å‰²ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“"`,
                                hint: 'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸï¼',
                                delay: 3000
                            }
                        ]
                    }
                };
                this.initEventListeners();
            }

            initEventListeners() {
                document.querySelectorAll('.demo-section').forEach(section => {
                    section.addEventListener('click', () => {
                        this.selectDemo(section.dataset.demo);
                    });
                });

                document.getElementById('startDemo').addEventListener('click', () => {
                    this.startDemo();
                });

                document.getElementById('pauseDemo').addEventListener('click', () => {
                    this.pauseDemo();
                });

                document.getElementById('resetDemo').addEventListener('click', () => {
                    this.resetDemo();
                });

                document.getElementById('nextStep').addEventListener('click', () => {
                    this.nextStep();
                });
            }

            selectDemo(demoType) {
                document.querySelectorAll('.demo-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                document.querySelector(`[data-demo="${demoType}"]`).classList.add('active');
                
                this.currentDemo = demoType;
                this.currentStep = 0;
                this.resetDemo();
                
                document.getElementById('statusText').textContent = 
                    `${this.demos[demoType].title} ãŒé¸æŠã•ã‚Œã¾ã—ãŸ`;
            }

            startDemo() {
                if (!this.currentDemo) {
                    alert('ã¾ãšãƒ‡ãƒ¢ã‚’é¸æŠã—ã¦ãã ã•ã„');
                    return;
                }

                this.isPlaying = true;
                document.getElementById('startDemo').disabled = true;
                document.getElementById('pauseDemo').disabled = false;
                document.getElementById('nextStep').disabled = false;
                
                this.runDemo();
            }

            pauseDemo() {
                this.isPlaying = false;
                document.getElementById('startDemo').disabled = false;
                document.getElementById('pauseDemo').disabled = true;
            }

            resetDemo() {
                this.isPlaying = false;
                this.currentStep = 0;
                
                document.getElementById('startDemo').disabled = false;
                document.getElementById('pauseDemo').disabled = true;
                document.getElementById('nextStep').disabled = true;
                
                document.getElementById('codeEditor').value = '';
                document.getElementById('keyboardHint').style.display = 'none';
                document.getElementById('demoOverlay').classList.remove('active');
                document.getElementById('chatContainer').classList.remove('active');
                document.getElementById('progressFill').style.width = '0%';
                
                if (this.currentDemo) {
                    document.getElementById('statusText').textContent = 
                        `${this.demos[this.currentDemo].title} - ãƒªã‚»ãƒƒãƒˆå®Œäº†`;
                }
            }

            nextStep() {
                if (!this.currentDemo || this.currentStep >= this.demos[this.currentDemo].steps.length) {
                    return;
                }

                this.executeStep(this.currentStep);
                this.currentStep++;
                
                const progress = (this.currentStep / this.demos[this.currentDemo].steps.length) * 100;
                document.getElementById('progressFill').style.width = `${progress}%`;
                
                if (this.currentStep >= this.demos[this.currentDemo].steps.length) {
                    this.completeDemo();
                }
            }

            executeStep(stepIndex) {
                const step = this.demos[this.currentDemo].steps[stepIndex];
                const editor = document.getElementById('codeEditor');
                const hint = document.getElementById('keyboardHint');
                const overlay = document.getElementById('demoOverlay');
                const chatContainer = document.getElementById('chatContainer');
                
                // ã‚³ãƒ¼ãƒ‰ã‚’æ®µéšçš„ã«è¡¨ç¤º
                this.typeCode(editor, step.code);
                
                // ãƒ’ãƒ³ãƒˆè¡¨ç¤º
                if (step.hint) {
                    hint.textContent = step.hint;
                    hint.style.display = 'block';
                    setTimeout(() => {
                        hint.style.display = 'none';
                    }, step.delay);
                }
                
                // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤º
                if (step.showOverlay) {
                    overlay.classList.add('active');
                    document.getElementById('typingText').textContent = step.overlayText || '';
                    setTimeout(() => {
                        overlay.classList.remove('active');
                    }, step.delay);
                }
                
                // ãƒãƒ£ãƒƒãƒˆè¡¨ç¤º
                if (step.showChat) {
                    chatContainer.classList.add('active');
                    this.displayChatMessages(step.chatMessages);
                }
                
                document.getElementById('statusText').textContent = 
                    `${this.demos[this.currentDemo].title} - ã‚¹ãƒ†ãƒƒãƒ— ${stepIndex + 1}/${this.demos[this.currentDemo].steps.length}`;
            }

            typeCode(editor, code) {
                editor.value = '';
                let i = 0;
                const typeChar = () => {
                    if (i < code.length) {
                        editor.value += code.charAt(i);
                        i++;
                        setTimeout(typeChar, 50);
                    }
                };
                typeChar();
            }

            displayChatMessages(messages) {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML = '';
                
                messages.forEach((message, index) => {
                    setTimeout(() => {
                        const messageDiv = document.createElement('div');
                        messageDiv.className = `message ${message.type}-message`;
                        messageDiv.textContent = message.text;
                        chatMessages.appendChild(messageDiv);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }, index * 1000);
                });
            }

            runDemo() {
                if (!this.isPlaying) return;
                
                this.nextStep();
                
                if (this.currentStep < this.demos[this.currentDemo].steps.length && this.isPlaying) {
                    const currentStepData = this.demos[this.currentDemo].steps[this.currentStep - 1];
                    setTimeout(() => {
                        this.runDemo();
                    }, currentStepData.delay);
                }
            }

            completeDemo() {
                this.isPlaying = false;
                document.getElementById('startDemo').disabled = false;
                document.getElementById('pauseDemo').disabled = true;
                document.getElementById('nextStep').disabled = true;
                document.getElementById('statusText').textContent = 
                    `${this.demos[this.currentDemo].title} - å®Œäº†ï¼`;
                
                setTimeout(() => {
                    alert('ãƒ‡ãƒ¢ãŒå®Œäº†ã—ã¾ã—ãŸï¼ä»–ã®æ©Ÿèƒ½ã‚‚è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚');
                }, 1000);
            }
        }

        // ãƒ‡ãƒ¢åˆæœŸåŒ–
        const demo = new CursorDemo();

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
        document.addEventListener('keydown', (e) => {
            if (e.key === ' ' && !demo.isPlaying) {
                e.preventDefault();
                demo.startDemo();
            } else if (e.key === 'ArrowRight' && demo.isPlaying) {
                e.preventDefault();
                demo.nextStep();
            } else if (e.key === 'Escape') {
                demo.resetDemo();
            }
        });
    </script>
</body>
</html>